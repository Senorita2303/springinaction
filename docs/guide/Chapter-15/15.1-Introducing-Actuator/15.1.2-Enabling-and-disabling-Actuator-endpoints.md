### 15.1.2 Bật và tắt các endpoint của Actuator

Bạn có thể đã nhận thấy rằng chỉ có endpoint `/health` được bật theo mặc định. Hầu hết các endpoint của Actuator chứa thông tin nhạy cảm và nên được bảo mật. Bạn có thể sử dụng Spring Security để giới hạn quyền truy cập vào Actuator, nhưng vì Actuator không tự có cơ chế bảo mật, nên phần lớn các endpoint bị vô hiệu hóa theo mặc định và yêu cầu bạn phải chủ động bật những endpoint mà bạn muốn sử dụng.

Hai thuộc tính cấu hình `management.endpoints.web.exposure.include` và `management.endpoints.web.exposure.exclude` có thể được sử dụng để kiểm soát các endpoint nào sẽ được hiển thị. Sử dụng `management.endpoints.web.exposure.include` để chỉ định những endpoint bạn muốn bật. Ví dụ, nếu bạn muốn bật chỉ các endpoint `/health`, `/info`, `/beans`, và `/conditions`, bạn có thể cấu hình như sau:

```yaml
management:
  endpoints:
    web:
      exposure:
        include: health,info,beans,conditions
```

Thuộc tính `management.endpoints.web.exposure.include` cũng chấp nhận dấu sao (*) như một ký hiệu đại diện để chỉ định rằng tất cả các endpoint của Actuator nên được bật, như sau:

```yaml
management:
  endpoints:
    web:
      exposure:
        include: '*'
```

Nếu bạn muốn bật tất cả các endpoint ngoại trừ một vài cái, thì thường sẽ dễ hơn nếu bạn bật toàn bộ bằng dấu `*` và sau đó loại trừ rõ ràng một vài cái. Ví dụ, để bật tất cả các endpoint Actuator ngoại trừ `/threaddump` và `/heapdump`, bạn có thể thiết lập cả hai thuộc tính `management.endpoints.web.exposure.include` và `management.endpoints.web.exposure.exclude` như sau:

```yaml
management:
  endpoints:
    web:
      exposure:
        include: '*'
        exclude: threaddump,heapdump
```

Nếu bạn quyết định bật nhiều hơn chỉ `/health` và `/info`, thì có lẽ bạn nên cấu hình Spring Security để hạn chế quyền truy cập vào các endpoint còn lại. Chúng ta sẽ xem cách bảo mật các endpoint của Actuator trong phần 15.4. Còn bây giờ, hãy cùng xem cách sử dụng các endpoint HTTP được Actuator cung cấp.
